# 006. Update to form state

## Date: 15 Sep 2023

## Status: Accepted

## Context:

As part of League Operations, a Registration form was required. This was built
specifically for MLS Next 23/24 Season, due to time constraints.

Previously, the result of an RTK query is passed to a slice action, to
manipulate the data from a nested collection of `Form::Elements::` as such

```
{
  id: number,
  element_type: 'Forms::Elements::Inputs::*',
  config: {
    text: 'Field title',
    data_point: false,
    element_id: 'field_key',
    optional: false,
  },
  visible: true,
  order: 1,
  form_elements: [],
}
```

to convert it into an object in state as such:

```
  form: {
    field_key: getDefaultValue()
  }
```

However, following discussions with BE, it is possible to POST the entire form
with the `element.id` instead of the `element.config.element_id`.

This is useful when we need to load a form that has been partially completed. An
update requires a resource id to update. A creation can accept a resource id to
create.

Thus, the resulting state is as such:

```
  form: {
    [id: number]: getDefaultValue()
  }
```

## Decision:

This has been spiked and will be adopted as part of League Ops

## Consequences:
